{% extends 'dashboard/base.html' %}

{% block title %}Reports & Analytics - PROTON{% endblock %}

{% block header %}
<div class="bg-gradient-to-r from-teal-500 to-blue-600 text-white p-6 rounded-lg mb-4">
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
        <div>
            <h1 class="text-2xl sm:text-3xl font-bold">Reports & Analytics</h1>
            <p class="text-sm text-teal-100 mt-1">Visualize project performance and export insights</p>
        </div>
        <div class="flex gap-2 flex-wrap">
            <button id="export-pdf-btn"
                class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors">
                Export PDF
            </button>
            <button id="export-csv-btn"
                class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors">
                Export CSV
            </button>
            <button id="print-btn"
                class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-semibold transition-colors">
                Print
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<!-- Filter Controls Section -->
<div class="reports-filter-bar bg-white rounded-lg shadow-md p-4 mb-6 sticky top-0 z-10">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">Project <span
                    class="text-red-500">*</span></label>
            <select id="project-selector" required
                class="project-selector w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none">
                <option value="">Select a Project</option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">Start Date</label>
            <input type="date" id="date-range-start"
                class="date-range-picker w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none">
        </div>
        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">End Date</label>
            <input type="date" id="date-range-end"
                class="date-range-picker w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none">
        </div>
        <div class="flex items-end gap-2">
            <button id="apply-filters-btn"
                class="flex-1 px-4 py-2 bg-gradient-to-r from-teal-500 to-blue-600 text-white rounded-lg hover:from-teal-600 hover:to-blue-700 transition-colors font-semibold">
                Apply
            </button>
            <button id="reset-filters-btn"
                class="px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors font-semibold">
                Reset
            </button>
        </div>
    </div>
</div>

<!-- Charts Grid Container (React renders its own grid layout inside) -->
<div id="reports-root" class="w-full">
    <!-- Skeleton Loader -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 animate-pulse">
        <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-100 h-96">
            <div class="h-6 w-48 bg-slate-200 rounded mb-8"></div>
            <div class="h-64 bg-slate-200 rounded mx-auto w-full"></div>
        </div>
        <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-100 h-96">
            <div class="h-6 w-48 bg-slate-200 rounded mb-8"></div>
            <div class="h-64 bg-slate-200 rounded mx-auto w-full"></div>
        </div>
    </div>
    <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6 animate-pulse">
        <div class="h-8 w-64 bg-slate-200 rounded mb-6"></div>
        <div class="space-y-4">
            {% for i in range(5) %}
            <div class="h-12 bg-slate-200 rounded w-full"></div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}